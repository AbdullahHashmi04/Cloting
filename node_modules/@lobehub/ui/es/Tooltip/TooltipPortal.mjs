'use client';

import { useEffect, useState } from "react";

//#region src/Tooltip/TooltipPortal.tsx
const PORTAL_ATTR = "data-lobe-ui-tooltip-portal";
const containerMap = /* @__PURE__ */ new WeakMap();
const getOrCreateContainer = (root) => {
	const resolvedRoot = (() => {
		if (typeof document === "undefined") return root;
		if (typeof ShadowRoot !== "undefined" && root instanceof ShadowRoot) return root;
		return root;
	})();
	const cached = containerMap.get(resolvedRoot);
	if (cached && cached.isConnected) return cached;
	const el = document.createElement("div");
	el.setAttribute(PORTAL_ATTR, "true");
	resolvedRoot.append(el);
	containerMap.set(resolvedRoot, el);
	return el;
};
const resolveRoot = (root) => {
	if (root) return root;
	return document.body;
};
const useTooltipPortalContainer = (root) => {
	const [container, setContainer] = useState(null);
	useEffect(() => {
		const resolved = resolveRoot(root);
		if (!resolved) return;
		setContainer(getOrCreateContainer(resolved));
	}, [root, container?.isConnected]);
	return container;
};

//#endregion
export { useTooltipPortalContainer };
//# sourceMappingURL=TooltipPortal.mjs.map